<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Lukas Linauer</title>
    <meta name="description" content="Personal website of Lukas Linauer" />
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <div class="bg-glow bg-glow-a" aria-hidden="true"></div>
    <div class="bg-glow bg-glow-b" aria-hidden="true"></div>

    <main class="container">
      <section class="panel about">
        <img class="avatar" src="https://github.com/llinauer.png" alt="Lukas Linauer profile picture" />
        <div>
          <p class="eyebrow">ABOUT ME</p>
          <h1>Hi, Iâ€™m Lukas Linauer</h1>
          <p>
            I like building practical software, experimenting with AI, and shipping ideas quickly.
          </p>
        </div>
      </section>

      <section class="panel repos">
        <div class="repos-head">
          <p class="eyebrow">PROJECTS</p>
          <h2>Selected Repositories</h2>
          <p class="hint">
            Edit the <code>SELECTED_REPOS</code> list in <code>index.html</code> to choose which repos are shown.
            Put custom thumbnail files into <code>/thumbnails/</code> using the repo name, e.g. <code>thumbnails/fft_net.jpg</code> or <code>thumbnails/fft_net.png</code>.
          </p>
        </div>

        <div id="repo-grid" class="repo-grid" aria-live="polite"></div>
      </section>
    </main>

    <script>
      const USERNAME = 'llinauer';

      // ðŸ‘‡ EDIT THIS LIST: only these repos will be displayed, in this order.
      const SELECTED_REPOS = [
        'fft_net',
        'ner_debugger',
        'ner_visualizer',
        'matmul_mojo',
        'austro_bird_classifier',
        'miniGPT'
      ];

      const PLACEHOLDER_THUMB = 'thumbnails/placeholder.svg';

      function thumbnailFor(repoName, ext = 'jpg') {
        return `thumbnails/${repoName}.${ext}`;
      }

      async function repoExists(repoName) {
        const res = await fetch(`https://api.github.com/repos/${USERNAME}/${repoName}`);
        return res.ok;
      }

      function renderRepoCard(repoName) {
        const link = `https://github.com/${USERNAME}/${repoName}`;
        const imgSrc = thumbnailFor(repoName);
        return `
          <article class="repo-card">
            <a href="${link}" target="_blank" rel="noreferrer" aria-label="Open ${repoName} on GitHub">
              <img class="thumb" src="${imgSrc}" alt="${repoName} thumbnail"
                   onerror="if(!this.dataset.fallback){this.dataset.fallback='png';this.src='${thumbnailFor(repoName, 'png')}';}else{this.onerror=null;this.src='${PLACEHOLDER_THUMB}';}" loading="lazy" />
              <div class="repo-meta">
                <h3>${repoName}</h3>
              </div>
            </a>
          </article>
        `;
      }

      async function loadRepos() {
        const grid = document.getElementById('repo-grid');

        const checks = await Promise.all(SELECTED_REPOS.map(repoExists));
        const validRepos = SELECTED_REPOS.filter((_, i) => checks[i]);

        grid.innerHTML = validRepos.map(renderRepoCard).join('');
      }

      loadRepos();
    </script>
  </body>
</html>
